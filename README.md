# ğŸš€ AI ä»£ç ç”Ÿæˆå¹³å°

<div align="center">

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.6-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![LangChain4j](https://img.shields.io/badge/LangChain4j-1.2.0-blue.svg)](https://github.com/langchain4j/langchain4j)
[![Vue](https://img.shields.io/badge/Vue-3.3.4-4FC08D.svg)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**åŸºäº AI å¤§æ¨¡å‹çš„æ™ºèƒ½ä»£ç ç”Ÿæˆå¹³å°ï¼Œæ”¯æŒå¤šæ–‡ä»¶é¡¹ç›®ç”Ÿæˆã€å®æ—¶æµå¼è¾“å‡ºã€å·¥å…·è°ƒç”¨ç­‰ä¼ä¸šçº§ç‰¹æ€§**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ¶æ„è®¾è®¡](#-æ¶æ„è®¾è®¡) â€¢ [API æ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)

</div>

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)
- [æ€§èƒ½ä¼˜åŒ–](#-æ€§èƒ½ä¼˜åŒ–)
- [æ•…éšœæ’æŸ¥](#-æ•…éšœæ’æŸ¥)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

AI ä»£ç ç”Ÿæˆå¹³å°æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ™ºèƒ½ä»£ç ç”Ÿæˆç³»ç»Ÿï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°å³å¯ç”Ÿæˆå®Œæ•´çš„å‰ç«¯é¡¹ç›®ä»£ç ã€‚å¹³å°é‡‡ç”¨ **LangGraph4j** å·¥ä½œæµå¼•æ“å’Œ **LangChain4j** æ¡†æ¶ï¼Œæ”¯æŒå¤šç§ AI æ¨¡å‹ï¼ˆDeepSeekã€Geminiã€Qwen ç­‰ï¼‰ï¼Œå®ç°äº†ä¼ä¸šçº§çš„ä»£ç ç”Ÿæˆèƒ½åŠ›ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼

- **ğŸ¤– æ™ºèƒ½ç”Ÿæˆ**ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°ï¼Œè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ Vue 3 é¡¹ç›®ä»£ç 
- **ğŸ“¦ å¤šæ–‡ä»¶æ”¯æŒ**ï¼šæ”¯æŒç”ŸæˆåŒ…å«å¤šä¸ªæ–‡ä»¶çš„å®Œæ•´é¡¹ç›®ç»“æ„
- **âš¡ å®æ—¶æµå¼**ï¼šé‡‡ç”¨ SSE æŠ€æœ¯ï¼Œå®æ—¶å±•ç¤ºä»£ç ç”Ÿæˆè¿‡ç¨‹
- **ğŸ”§ å·¥å…·è°ƒç”¨**ï¼šæ”¯æŒæ–‡ä»¶è¯»å†™ã€ç›®å½•æ“ä½œç­‰å¤šç§å·¥å…·è°ƒç”¨
- **ğŸ’¾ ä¼šè¯è®°å¿†**ï¼šåŸºäº Redis çš„åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ï¼Œæ”¯æŒä¸Šä¸‹æ–‡å¯¹è¯
- **ğŸ”„ å·¥ä½œæµå¼•æ“**ï¼šä½¿ç”¨ LangGraph4j å®ç°å¤æ‚çš„ä»£ç ç”Ÿæˆå·¥ä½œæµ

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **å¤šæ¨¡å‹æ”¯æŒ**
  - DeepSeekï¼ˆæ¨èï¼Œç¨³å®šæ€§é«˜ï¼‰
  - Gemini 2.0 Flash
  - é˜¿é‡Œäº‘é€šä¹‰åƒé—®
  - æ”¯æŒè‡ªå®šä¹‰æ¨¡å‹æ¥å…¥

- âœ… **ä»£ç ç”Ÿæˆèƒ½åŠ›**
  - Vue 3 å•é¡µåº”ç”¨ç”Ÿæˆ
  - å¤šæ–‡ä»¶é¡¹ç›®ç”Ÿæˆ
  - HTML é™æ€é¡µé¢ç”Ÿæˆ
  - å“åº”å¼è®¾è®¡è‡ªåŠ¨é€‚é…

- âœ… **å·¥å…·è°ƒç”¨ç³»ç»Ÿ**
  - `writeFile` - æ–‡ä»¶å†™å…¥
  - `readFile` - æ–‡ä»¶è¯»å–
  - `modifyFile` - æ–‡ä»¶ä¿®æ”¹
  - `deleteFile` - æ–‡ä»¶åˆ é™¤
  - `readDir` - ç›®å½•è¯»å–
  - `exit` - ä»»åŠ¡å®Œæˆæ ‡è®°

- âœ… **ä¼ä¸šçº§ç‰¹æ€§**
  - åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ï¼ˆRedisï¼‰
  - è¯·æ±‚é™æµä¸é˜²æŠ¤
  - å®Œæ•´çš„ç›‘æ§æŒ‡æ ‡ï¼ˆPrometheusï¼‰
  - å¼‚æ­¥ä»»åŠ¡å¤„ç†ï¼ˆè™šæ‹Ÿçº¿ç¨‹ï¼‰
  - ç¼“å­˜ä¼˜åŒ–ï¼ˆCaffeineï¼‰

---

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Spring Boot | 3.5.6 | æ ¸å¿ƒæ¡†æ¶ |
| LangChain4j | 1.2.0 | AI åº”ç”¨å¼€å‘æ¡†æ¶ |
| LangGraph4j | 1.6.0-rc2 | å·¥ä½œæµå¼•æ“ |
| MyBatis-Flex | 1.11.0 | ORM æ¡†æ¶ |
| Redis | - | ç¼“å­˜ä¸ä¼šè¯å­˜å‚¨ |
| Redisson | 3.50.0 | åˆ†å¸ƒå¼é” |
| Caffeine | - | æœ¬åœ°ç¼“å­˜ |
| Knife4j | 4.4.0 | API æ–‡æ¡£ |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Vue | 3.3.4 | å‰ç«¯æ¡†æ¶ |
| Vue Router | 4.2.4 | è·¯ç”±ç®¡ç† |
| Vite | 4.4.5 | æ„å»ºå·¥å…· |

### AI æ¨¡å‹

| æ¨¡å‹ | æä¾›å•† | ç”¨é€” |
|------|--------|------|
| DeepSeek Chat | DeepSeek | ä»£ç ç”Ÿæˆï¼ˆæ¨èï¼‰ |
| Gemini 2.0 Flash | Google | ä»£ç ç”Ÿæˆ |
| Qwen Turbo | é˜¿é‡Œäº‘ | æ™ºèƒ½è·¯ç”± |

---

## ğŸ— ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‰ç«¯å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Vue 3 UI â”‚  â”‚ SSE æµå¼ â”‚  â”‚ æ–‡ä»¶é¢„è§ˆ â”‚  â”‚ å†å²è®°å½• â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ HTTP/SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åº”ç”¨æœåŠ¡å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ä»£ç ç”ŸæˆæœåŠ¡ â”‚  â”‚ ä¼šè¯ç®¡ç†æœåŠ¡ â”‚  â”‚ æ–‡ä»¶ç®¡ç†æœåŠ¡ â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI å¼•æ“å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              LangGraph4j å·¥ä½œæµå¼•æ“                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ è·¯ç”±èŠ‚ç‚¹â”‚â†’â”‚ç”ŸæˆèŠ‚ç‚¹â”‚â†’â”‚å·¥å…·èŠ‚ç‚¹â”‚â†’â”‚ç»“æŸèŠ‚ç‚¹â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              LangChain4j AI æœåŠ¡                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ æ¨¡å‹è°ƒç”¨â”‚  â”‚å·¥å…·æ‰§è¡Œâ”‚  â”‚è®°å¿†ç®¡ç†â”‚  â”‚æŠ¤æ æ£€æŸ¥â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åŸºç¡€è®¾æ–½å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  MySQL   â”‚  â”‚  Redis   â”‚  â”‚   COS    â”‚  â”‚Prometheusâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµè®¾è®¡

```
ç”¨æˆ·è¾“å…¥ â†’ è·¯ç”±èŠ‚ç‚¹ â†’ åˆ¤æ–­ç±»å‹
                         â”œâ”€ ä»£ç ç”Ÿæˆ â†’ ä»£ç ç”ŸæˆèŠ‚ç‚¹ â†’ å·¥å…·è°ƒç”¨ â†’ åˆ¤æ–­æ˜¯å¦å®Œæˆ
                         â”‚                                          â”œâ”€ å¦ â†’ ç»§ç»­ç”Ÿæˆ
                         â”‚                                          â””â”€ æ˜¯ â†’ ç»“æŸèŠ‚ç‚¹
                         â””â”€ æ™®é€šå¯¹è¯ â†’ å¯¹è¯èŠ‚ç‚¹ â†’ ç»“æŸèŠ‚ç‚¹
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **JDK**: 21+
- **Maven**: 3.8+
- **MySQL**: 8.0+
- **Redis**: 6.0+
- **Node.js**: 16+ (å‰ç«¯å¼€å‘)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/ai-code-generate.git
cd ai-code-generate
```

### 2. é…ç½®æ•°æ®åº“

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE ai_code_generate CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- å¯¼å…¥è¡¨ç»“æ„
mysql -u root -p ai_code_generate < sql/schema.sql
```

### 3. é…ç½®åº”ç”¨

å¤åˆ¶é…ç½®æ–‡ä»¶å¹¶ä¿®æ”¹ï¼š

```bash
cp src/main/resources/application-local.yml.example src/main/resources/application-local.yml
```

ç¼–è¾‘ `application-local.yml`ï¼Œé…ç½®æ•°æ®åº“å’Œ AI æ¨¡å‹ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/ai_code_generate
    username: your_username
    password: your_password

langchain4j:
  open-ai:
    reasoning:
      base-url: https://api.deepseek.com
      api-key: your_deepseek_api_key
      model-name: deepseek-chat
```

### 4. å¯åŠ¨åº”ç”¨

```bash
# ç¼–è¯‘é¡¹ç›®
mvn clean package -DskipTests

# å¯åŠ¨åº”ç”¨
java -jar target/ai-code-generate-0.0.1-SNAPSHOT.jar --spring.profiles.active=local
```

### 5. è®¿é—®åº”ç”¨

- **API æ–‡æ¡£**: http://localhost:8080/api/doc.html
- **å¥åº·æ£€æŸ¥**: http://localhost:8080/api/actuator/health
- **ç›‘æ§æŒ‡æ ‡**: http://localhost:8080/api/actuator/prometheus

---

## âš™ï¸ é…ç½®è¯´æ˜

### AI æ¨¡å‹é…ç½®

#### DeepSeekï¼ˆæ¨èï¼‰

```yaml
langchain4j:
  open-ai:
    reasoning:
      base-url: https://api.deepseek.com
      api-key: sk-xxxxx
      model-name: deepseek-chat
      max-tokens: 8192
      temperature: 0.7
```

#### Gemini

```yaml
langchain4j:
  gemini:
    reasoning:
      base-url: https://your-proxy.com/v1
      api-key: sk-xxxxx
      model-name: gemini-2.0-flash-exp
      max-tokens: 10240
```

### Redis é…ç½®

```yaml
spring:
  data:
    redis:
      host: localhost
      port: 6379
      password: your_password
      database: 0
```

### æ–‡ä»¶å­˜å‚¨é…ç½®

```yaml
cos:
  client:
    host: https://your-bucket.cos.region.myqcloud.com
    secretId: your_secret_id
    secretKey: your_secret_key
    region: ap-guangzhou
    bucket: your-bucket
```

---

## ğŸ“š API æ–‡æ¡£

### ä»£ç ç”Ÿæˆ API

#### æµå¼ç”Ÿæˆä»£ç 

```http
GET /api/code/generate/stream?appId=123&message=åˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ä»ªè¡¨ç›˜
```

**å“åº”**ï¼ˆSSE æµå¼ï¼‰ï¼š

```
data: {"type":"text","content":"æ­£åœ¨ç”Ÿæˆä»£ç ..."}

data: {"type":"tool","name":"writeFile","args":{"relativePath":"index.html","content":"..."}}

data: {"type":"complete","message":"ç”Ÿæˆå®Œæˆ"}
```

#### è·å–ç”Ÿæˆå†å²

```http
GET /api/code/history?appId=123&page=1&size=20
```

**å“åº”**ï¼š

```json
{
  "code": 200,
  "data": {
    "records": [
      {
        "id": 1,
        "message": "åˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ä»ªè¡¨ç›˜",
        "messageType": "user",
        "createTime": "2024-01-24T10:00:00"
      }
    ],
    "total": 100
  }
}
```

### æ–‡ä»¶ç®¡ç† API

#### ä¸‹è½½ç”Ÿæˆçš„æ–‡ä»¶

```http
GET /api/file/download?appId=123&path=index.html
```

#### è·å–æ–‡ä»¶åˆ—è¡¨

```http
GET /api/file/list?appId=123
```

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. å·¥å…·è°ƒç”¨ç³»ç»Ÿ

å¹³å°å®ç°äº†å®Œæ•´çš„å·¥å…·è°ƒç”¨ç³»ç»Ÿï¼ŒAI å¯ä»¥é€šè¿‡å·¥å…·å®Œæˆæ–‡ä»¶æ“ä½œï¼š

```java
@Tool("å†™å…¥æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„")
public String writeFile(
    @P("æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„") String relativePath,
    @P("è¦å†™å…¥æ–‡ä»¶çš„å†…å®¹") String content
) {
    // å®ç°æ–‡ä»¶å†™å…¥é€»è¾‘
    return "æ–‡ä»¶å†™å…¥æˆåŠŸ: " + relativePath;
}
```

### 2. ä¼šè¯è®°å¿†ç®¡ç†

åŸºäº Redis çš„åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ï¼Œæ”¯æŒå¤šè½®å¯¹è¯ï¼š

```java
MessageWindowChatMemory chatMemory = MessageWindowChatMemory.builder()
    .id(appId)
    .chatMemoryStore(customRedisChatMemoryStore)
    .maxMessages(100)
    .build();
```

### 3. æµå¼è¾“å‡º

é‡‡ç”¨ SSEï¼ˆServer-Sent Eventsï¼‰æŠ€æœ¯ï¼Œå®æ—¶å±•ç¤ºç”Ÿæˆè¿‡ç¨‹ï¼š

```java
@GetMapping(value = "/stream", produces = MediaType.TEXT_EVENT_STREAM_VALUE)
public Flux<ServerSentEvent<String>> generateStream(
    @RequestParam Long appId,
    @RequestParam String message
) {
    return codeGenerateService.generateCodeStream(appId, message);
}
```

### 4. å·¥ä½œæµå¼•æ“

ä½¿ç”¨ LangGraph4j å®ç°å¤æ‚çš„ä»£ç ç”Ÿæˆå·¥ä½œæµï¼š

```java
StateGraph<AgentState> workflow = new StateGraph<>(AgentState::new)
    .addNode("router", routerNode)
    .addNode("codeGenerator", codeGeneratorNode)
    .addNode("toolExecutor", toolExecutorNode)
    .addEdge(START, "router")
    .addConditionalEdges("router", routingFunction)
    .addEdge("codeGenerator", END);
```

---

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²

#### 1. æ„å»ºé•œåƒ

```bash
# æ„å»ºåº”ç”¨é•œåƒ
docker build -t ai-code-generate:latest .
```

#### 2. ä½¿ç”¨ Docker Compose

```yaml
version: '3.8'

services:
  app:
    image: ai-code-generate:latest
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=prod
      - SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/ai_code_generate
      - SPRING_REDIS_HOST=redis
    depends_on:
      - mysql
      - redis

  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root_password
      MYSQL_DATABASE: ai_code_generate
    volumes:
      - mysql_data:/var/lib/mysql

  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data

volumes:
  mysql_data:
  redis_data:
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
docker-compose up -d
```

### Kubernetes éƒ¨ç½²

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ai-code-generate
spec:
  replicas: 3
  selector:
    matchLabels:
      app: ai-code-generate
  template:
    metadata:
      labels:
        app: ai-code-generate
    spec:
      containers:
      - name: app
        image: ai-code-generate:latest
        ports:
        - containerPort: 8080
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "prod"
        resources:
          requests:
            memory: "2Gi"
            cpu: "1000m"
          limits:
            memory: "4Gi"
            cpu: "2000m"
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. ç¼“å­˜ç­–ç•¥

- **æœ¬åœ°ç¼“å­˜**ï¼šä½¿ç”¨ Caffeine ç¼“å­˜ AI æœåŠ¡å®ä¾‹ï¼ˆ30åˆ†é’Ÿè¿‡æœŸï¼‰
- **åˆ†å¸ƒå¼ç¼“å­˜**ï¼šä½¿ç”¨ Redis ç¼“å­˜ä¼šè¯æ•°æ®å’Œç”Ÿæˆç»“æœ

### 2. å¼‚æ­¥å¤„ç†

- ä½¿ç”¨ Java 21 è™šæ‹Ÿçº¿ç¨‹å¤„ç†å¹¶å‘è¯·æ±‚
- å·¥ä½œæµèŠ‚ç‚¹å¼‚æ­¥æ‰§è¡Œï¼Œæå‡å“åº”é€Ÿåº¦

### 3. è¿æ¥æ± ä¼˜åŒ–

```yaml
spring:
  datasource:
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
```

### 4. ç›‘æ§æŒ‡æ ‡

é›†æˆ Prometheus ç›‘æ§ï¼š

- AI æ¨¡å‹è°ƒç”¨æ¬¡æ•°
- ä»£ç ç”ŸæˆæˆåŠŸç‡
- å¹³å‡å“åº”æ—¶é—´
- å·¥å…·è°ƒç”¨ç»Ÿè®¡

---

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. `toolExecutor is null` é”™è¯¯

**åŸå› **ï¼šLangChain4j æºç ä¸­ `copy()` æ–¹æ³•å¯¼è‡´ Map ä¸¢å¤±

**è§£å†³**ï¼šå·²åœ¨ `AiServiceStreamingResponseHandler.java` ä¸­ä¿®å¤ï¼Œä½¿ç”¨ç›´æ¥èµ‹å€¼

#### 2. Gemini `thought_signature` é”™è¯¯

**åŸå› **ï¼šGemini Thinking æ¨¡å‹éœ€è¦ç‰¹æ®Šå­—æ®µ

**è§£å†³**ï¼šåˆ‡æ¢åˆ° DeepSeek æˆ–ä½¿ç”¨é Thinking ç‰ˆæœ¬çš„ Gemini

#### 3. å·¥å…·åç§°é‡å¤ç´¯ç§¯

**åŸå› **ï¼šGemini API æ¯ä¸ª SSE éƒ½åŒ…å«å®Œæ•´å·¥å…·ä¿¡æ¯

**è§£å†³**ï¼šå·²åœ¨ `OpenAiStreamingResponseBuilder.java` ä¸­ä¿®å¤ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡è®¾ç½®å·¥å…·åç§°

#### 4. ç¼“å­˜æœªæ›´æ–°

**åŸå› **ï¼šCaffeine ç¼“å­˜æœªè¿‡æœŸ

**è§£å†³**ï¼šé‡å¯åº”ç”¨æˆ–ç­‰å¾…ç¼“å­˜è¿‡æœŸï¼ˆ10-30åˆ†é’Ÿï¼‰

### æ—¥å¿—é…ç½®

```yaml
logging:
  level:
    com.xuenai.aicodegenerate: DEBUG
    dev.langchain4j: DEBUG
  file:
    name: logs/application.log
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ªé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ
- ä½¿ç”¨ Lombok ç®€åŒ–ä»£ç 
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [LangChain4j](https://github.com/langchain4j/langchain4j) - AI åº”ç”¨å¼€å‘æ¡†æ¶
- [LangGraph4j](https://github.com/bsorrentino/langgraph4j) - å·¥ä½œæµå¼•æ“
- [Spring Boot](https://spring.io/projects/spring-boot) - åº”ç”¨æ¡†æ¶
- [DeepSeek](https://www.deepseek.com/) - AI æ¨¡å‹æä¾›å•†

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-org/ai-code-generate/issues)
- **é‚®ç®±**: support@example.com
- **æ–‡æ¡£**: [åœ¨çº¿æ–‡æ¡£](https://docs.example.com)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼â­**

Made with â¤ï¸ by AI Code Generate Team

</div>
